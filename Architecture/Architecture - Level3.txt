graph TB
    %% Client Layer
    Client[React.js Dashboard<br/>Search Interface<br/>Document Upload<br/>Analytics Dashboard<br/>Category Management]
    
    %% API Gateway
    Gateway[FastAPI Gateway<br/>Request Routing<br/>Authentication<br/>Response Aggregation<br/>API Rate Limiting]
    
    %% Core Microservices
    DocService[Document Service<br/>File Upload Handler<br/>Metadata Management<br/>Document CRUD]
    
    OCRService[OCR Service<br/>LayoutLMv3<br/>TrOCR<br/>Text Extraction<br/>Layout Analysis]
    
    ClassService[Classification Service<br/>Document Categorization<br/>BERT Models<br/>Confidence Scoring]
    
    SummService[Summarization Service<br/>BART/T5<br/>Content Summarization<br/>Key Point Extraction]
    
    SearchService[Search Service<br/>Vector Embeddings<br/>RAG Implementation<br/>Semantic Search]
    
    AnalyticsService[Analytics Service<br/>Usage Metrics<br/>Performance Monitoring<br/>Insights Generation]
    
    %% Advanced Feature Services
    HandwritingService[Handwriting Recognition<br/>TrOCR Processing<br/>PaddleOCR<br/>Form Field Extraction<br/>Structured Data Output]
    
    CitationService[Citation Network Analysis<br/>NetworkX PageRank<br/>Node2Vec Embeddings<br/>Research Paper Relations<br/>Influence Scoring]
    
    RiskService[Risk Assessment<br/>FinBERT Financial Risk<br/>LegalBERT Legal Risk<br/>ClinicalBERT Medical Risk<br/>Fraud Probability Scoring]
    
    AnomalyService[Anomaly Detection<br/>Isolation Forest<br/>One-Class SVM<br/>DBSCAN Clustering<br/>Fraud Pattern Detection]
    
    ForensicsService[Document Forensics<br/>ManTra-Net Manipulation<br/>Copy-Move CNN<br/>SigNet Signature Auth<br/>SIFT/SURF Watermark]
    
    RedactionService[Auto Redaction<br/>Microsoft Presidio<br/>PII Detection<br/>Smart Masking<br/>Privacy Compliance]
    
    %% Message Queue
    Queue[Redis Celery<br/>Background Tasks<br/>OCR Processing<br/>Batch Operations]
    
    %% Databases
    PostgresDB[(PostgreSQL<br/>Document Metadata<br/>Classifications<br/>Summaries<br/>User Data)]
    
    VectorDB[(Chroma Vector DB<br/>Document Embeddings<br/>Semantic Search Index)]
    
    FileStorage[(MinIO S3<br/>Original Documents<br/>Processed Files<br/>Thumbnails)]
    
    CacheDB[(Redis Cache<br/>Session Data<br/>Frequent Queries<br/>API Responses)]
    
    %% Client to Gateway
    Client --> Gateway
    
    %% Gateway to Services
    Gateway --> DocService
    Gateway --> OCRService
    Gateway --> ClassService
    Gateway --> SummService
    Gateway --> SearchService
    Gateway --> AnalyticsService
    Gateway --> HandwritingService
    Gateway --> CitationService
    Gateway --> RiskService
    Gateway --> AnomalyService
    Gateway --> ForensicsService
    Gateway --> RedactionService
    
    %% Core Services to Storage
    DocService --> PostgresDB
    DocService --> FileStorage
    DocService --> Queue
    
    OCRService --> Queue
    OCRService --> PostgresDB
    
    ClassService --> PostgresDB
    ClassService --> Queue
    
    SummService --> PostgresDB
    SummService --> Queue
    
    SearchService --> VectorDB
    SearchService --> PostgresDB
    SearchService --> CacheDB
    
    AnalyticsService --> PostgresDB
    AnalyticsService --> CacheDB
    
    %% Advanced Services to Storage
    HandwritingService --> PostgresDB
    HandwritingService --> Queue
    
    CitationService --> VectorDB
    CitationService --> PostgresDB
    
    RiskService --> PostgresDB
    RiskService --> Queue
    
    AnomalyService --> PostgresDB
    AnomalyService --> CacheDB
    
    ForensicsService --> PostgresDB
    ForensicsService --> FileStorage
    ForensicsService --> Queue
    
    RedactionService --> PostgresDB
    RedactionService --> FileStorage
    
    %% Queue to Services
    Queue --> OCRService
    Queue --> ClassService
    Queue --> SummService
    Queue --> HandwritingService
    Queue --> RiskService
    Queue --> ForensicsService
    
    %% Styling
    classDef client fill:#e1f5fe
    classDef gateway fill:#f3e5f5
    classDef service fill:#e8f5e8
    classDef database fill:#fff3e0
    classDef queue fill:#fce4ec
    
    class Client client
    class Gateway gateway
    class DocService,OCRService,ClassService,SummService,SearchService,AnalyticsService service
    class PostgresDB,VectorDB,FileStorage,CacheDB database
    class Queue queue